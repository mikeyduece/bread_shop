language: ruby
cache: bundler
rvm:
- 2.5.0
sudo: enabled
notifications:
  email: false
before_script:
- bundle exec rake db:create
- RAILS_ENV=test bundle exec rake db:migrate
- bundle exec rake db:test:prepare
script:
- bundle exec rspec
- bundle exec brakeman --exit-on-warn --quiet -f plain
deploy:
  provider: heroku
  api_key:
    secure: kZ0Bx3YvnIrr2WRnuv8ApOv6C0koUd0NNyhdaAffxV7UJ3WIi2d6mjcJi+pQspxQF3+k3UEQReWsS2xT738+mr9u0PR6scf3FIBzt8NanIKhoKScEA/sBwLi8pgWmWfkgmno+DX996eo5Scs57djMKSmHMRZ9jP8igYJLT3DhA4sAZ1BM+qtmV94R4PkzpsRgdcsGzfvlCleN2QdRBuR48UG0DeRENSSKj+yh1sY5PJ78xbLr48BZqz0EEopdEJt8iT4XghkM2BGfvNdh0y0BCbMfNsh2vEO5bVNX0LFFbTwKd6vWaMuvIdanuImeTWNu6k1H7Nf17rvPdObZOEk22r5Udg+keXyqYud+olYPIZwcxIw8rxt/lN50HIbRDspcFLWrPMNpcM+TtvFjBr0Df1fXmi4Qolrwr07bv+FZNaBDSqrU7aTZ96AzzyE1fF250ZE5sZuhHcrWbV4hxV5UWuE28djD6AWY6FKed0RuZDYTGgRrCOLJ5NbGiwaWQEeNDuR6TSJGX4q4/DTEwcnVTioCtM01cgJuoT04lq6th3kU5DCtPBY2EN4sr2iTqqVmJXjINpxNvUEbg75zltHeFZEmqtDCTQmce8h3J5BaA2682B+UBgjrvbDsg/EPa42c0+frZWiYHcXR75F77xkeYi7ej5bNrY6lFEK6kFGwP0=
  app: breadshop
  on:
    repo: mikeyduece/bread_shop
env:
  global:
  - secure: Q9yN5kqZTvUZrqvdE0pcMfjRtjBe4gmJ2NCKPDGWoeaqHY0vbr3WlpEadxQf5Pd8ICD/sfd0Yd4YzYizZFunSIBU0qdvD0QkEyhRnfG41/AxmV3XK3anlVayJoJrqmVjpG/S8eL+ER8P5KTkKEnX328SbRoa8sfXoovbldaPkiyEq3y6/oMc/H0sK24y0Ke9yF8lnF3y+Edu8q/h4Ntt3wHP24U2RUa/9iJjMhw4YtJIv+Z8NvLUgekVWejsi1xFMInk2yCrTdbLvKJS0KLdSdPaIQX1/pppHCWdaNWU/MIWWXDR/qMTnMPrkRzMwKKlAKSIs6fFObQAsfqoury+9UE2JsujlA0aIw3wQ4iQHgCEaTF8Hu98tuVQwYPGmXyOVUkqIvcZdLgPkMhVZtbeXBJdgdehSG7XKBmco/TfR4UwXEF50YyIk9u1oDI7cHH0VfZrLg14mZCV5I30mmclfzCPfFVqFvMrwZq5aEcRUmYLQTKnMLBarKdIhGyGHIgPUsd4u2LRctTBC3EUctgaX5hLT1PxWqCdBaLyTZQT32J7AflHnLxTgWKMW3EwBg6N9k/zxohgqNqNs43xHGCdCO/ZPd20kvA5xvr1gcsxUqHms7zyhi+6cyEp+EG7OR/zzF7SkhHnWA5Z74puLsIZ1kVjk5adDvAWuV8hWQjgZ8k=
  - secure: vFneHwyRR4V4jewsJWW6BOip3w8mni/ZnGchx8nMpF26bqPIwedzCXZZZ+SEowVDZB5ElKjzTdpGJktTZoBRKEUmdLcz1gj1I/xtiizTxcrk/AqHxXsOyQsaq6jbs+n3AHgnQKDKGJrwdzHFPKm5tW2sV+4YIZjV+1gB0bRR6P0vSGGhF4i35Iv1gytKQyJVYTO1rphFwVOsS1tpLAu03+XkNgVXAV5NheLjORlIphJXS9n8KH8Q0wQxbrwhr0Kr1mQyMu/a95QFFeJCIsxrb9VTwKKGHo3A8Ir5wOyxz2psqy7ncUjUv3+sbqEZ6fYPCn5L4xQQqu0cy73KmuX/e+Ek0Aqv38jO/AFHLhFHlkcSX8QYgX9p8uMjh6FGXSx6dG86BmJDqeHdP5FfiejJyBvILdaTtR9LD11UJ0YIl3AZ/SVYI6JtfaAgbNZaV9BqA3Y19QYry77WFRS1sl+ud1Qkj25rutTAbyXLqO8jCYByq0cvqA2VEDLFxdDYc1wCTp7rG3ZVdFlQTi+RgPQNdVhlsASrm6Sl4tDNvlC+Li4d6qXEBOabUfqiBPvk1vUXLzjTA3j6ppBZrfqzrdu0wgX8bRZhH7e6UBqyLh5Mr8PGm1TtEHUHyz7ep2y612XvziS0b4mx5N2wg8QHUkoIJLlysR+pVCIgvU2Jal9yucI=
